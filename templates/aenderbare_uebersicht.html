{% extends "basic.html" %}

{% block title %}
<title>Ändern</title>
{% endblock %}

{% block body %}

<h2>Erfasste Zeit ändern</h2>

<!-- Änderbare Übersicht. Nur die gewählte Zeile wird angezeigt und kann angepasst werden -->
<table class="table">
    <thead>
        <tr>
            <th scope="col">Datum, Erfassungszeit</th>
            <th scope="col">Kategorie</th>
            <th scope="col">Zeit</th>
            <th scope="col">Anpassen</th>
        </tr>
    </thead>
    <tbody>
        <!-- Die Hintergrundfarbe ist diejenige der bisherigen Kategorie -->
        <!-- Aenderbare_kategorie[0] ist der Name der bisherigen Kategorie, dieser wird als Key benutzt, somit wird die Farbe als Value ausgegeben -->
        <tr style="background-color:{{ farben[aenderbare_kategorie[0]] }}">
            <!-- Der Key (Datum + Erfassungszeit) wurde von main.py weitergegeben -->
            <td>{{ key }}</td>
            <td><form method="POST">
                <select name="neue_kategorie">
                    <!-- Die bisherige Kategorie ist als Option vorgewählt -->
                    <option selected>{{ aenderbare_kategorie[0] }}</option>
                    {% for kategorie in kategorien %}
                    <!-- Alle Kategorien werden als Optionen im Dropdown aufgeführt -->
                    <option value="{{ kategorie }}">{{ kategorie }}</option>
                    {% endfor %}
                </select>
            <!-- Die bereits erfasste Zeit ist als Placeholder vorgewählt. Der Nutzer muss eine Zeit erfassen. -->
            <td><input type="text" name="neue_zeit" placeholder="{{ aenderbare_kategorie[1] }}" required></td>
            <td><button type="submit">Speichern</button></td>
            </form></td>
        </tr>
    </tbody>
</table>

{% endblock %}