{% extends "basic.html" %}

{% block title %}
<title>Ändern</title>
{% endblock %}

{% block body %}

<h2>Erfasste Zeit ändern</h2>

<!-- Falls Zeiten bereits erfasst wurden -->
{% if zeiterfassung %}

<table class="table">
    <thead>
        <tr>
            <th scope="col">Datum, Erfassungszeit</th>
            <th scope="col">Kategorie</th>
            <th scope="col">Zeit</th>
            <th scope="col">Anpassen</th>
        </tr>
    </thead>
    <tbody>
        <!-- Die Hintergrundfarbe ist diejenige der gewählten Kategorie -->
        <tr style="background-color:{{ farben[aenderbare_kategorie[0]] }}">
            <td>{{ key }}</td>
            <td><form method="POST">
                <select name="neue_kategorie">
                    <!-- Die gewählte Kategorie ist als Option vorgewählt -->
                    <option selected>{{ aenderbare_kategorie[0] }}</option>
                    {% for kategorie in kategorien %}
                    <!-- Alle Kategorien werden als Optionen im Dropdown aufgeführt -->
                    <option value="{{ kategorie }}">{{ kategorie }}</option>
                    {% endfor %}
                </select></td>
            <!-- Die bereits erfasste Zeit ist als Option gewählt -->
            <td><input type="text" name="neue_zeit" placeholder="{{ aenderbare_kategorie[1] }}" required></td>
            <td><button type="submit">Speichern</button></td></form>
        </tr>
    </tbody>
</table>

{% else %}
	<!-- Falls noch keine Zeiten erfasst wurden -->
    <p>Es wurden noch keine Zeiten erfasst. Erfassen Sie Ihre Zeit <a href="/">hier</a>.</p>

{% endif %}

{% endblock %}